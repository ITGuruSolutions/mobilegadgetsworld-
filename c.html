<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MobileGadgetsWorld</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

</head>

<body>
    <!-- Navbar started -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <a class="navbar-brand" href="#">MobileGadgetsWorld</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav">
                <li class="nav-item">
                    <a class="nav-link" href="/index.html">Home <span class="sr-only">(current)</span></a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/watch.html">Watch</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/airpods.html">Airpods</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/mobiles.html">Mobiles</a>
                </li>
            </ul>
            <form class="d-flex center-content">
                <input class="form-control me-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn btn-outline-success button-space" type="submit">Search</button>
            </form>
            <ul class="navbar-nav ml-auto center-content">
                <li class="nav-item">
                    <button type="button" class="btn btn-outline-success icon-space" data-bs-toggle="modal"
                        data-bs-target="#cartModal">
                        <i id="cart" class="bi bi-cart-fill cart-icon"></i>
                        <span id="cart-items" class="badge badge-danger cart-badge bg-danger">0</span>
                    </button>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/login.html"><i class="bi bi-person"></i> Login</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/signup.html"><i class="bi bi-person-plus"></i> SignUp</a>
                </li>
            </ul>
        </div>
    </nav>
    <!-- Navbar ended -->

    <!--Slider Started-->
    <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"
                aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="/img/watch.jpg" class="d-block w-100" alt="...">
                <div class="carousel-caption d-none d-md-block">
                    <h5>Apple watch</h5>
                    <p>Your wrist's smart companion for health, connectivity, and convenience..</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="/img/airpods.jpg" class="d-block w-100" alt="...">
                <div class="carousel-caption d-none d-md-block">
                    <h5>AirPods Pro</h5>
                    <p>High-quality wireless earbuds.</p>
                </div>
            </div>
            <div class="carousel-item">
                <img src="/img/laptop.jpg" class="d-block w-100" alt="...">
                <div class="carousel-caption d-none d-md-block">
                    <h5>MacBook</h5>
                    <p>Seamless power and elegance, encased in the iconic MacBook design.</p>
                </div>
            </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"
            data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"
            data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
    <!--Slider Ended-->

    <!-- Card Section -->
    <div class="container mt-5" id="product-list">
        <div class="row"></div>
    </div>

    <!-- Cart Modal -->
    <div class="modal fade" id="cartModal" tabindex="-1" aria-labelledby="cartModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="cartModalLabel">Shopping Cart</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <ul id="cart-items-modal" class="list-group fade-in"></ul>
                    <p>Total: ₹<span id="cart-total-modal">0.00</span></p>
                    <button type="button" class="btn btn-success btn-block">Buy Now</button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Section -->
   <!-- JavaScript Section -->
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
    const cart = [];
    const dummyProducts = [
        {
            title: 'Airpods Pro',
            price: 2799.99,
            image: '/img/airpods pro.png',
            description: 'Enjoy crystal-clear audio with these premium wireless earbuds.'
        },
        {
            title: 'Watch 8 Ultra',
            price: 3799.99,
            image: '/img/ultra.png',
            description: 'Stay connected and track your fitness with this sleek smartwatch.'
        },
        {
            title: 'Samsung Active 2',
            price: 3499.99,
            image: '/img/active 2.png',
            description: 'Achieve your fitness goals with ease using this advanced fitness tracker.'
        },
        {
            title: 'Fossil gen 9',
            price: 3199.99,
            image: '/img/gen 9.png',
            description: 'Elevate your style with this trendy and tech-savvy fashion accessory.'
        }
    ];

    function addToCart(title, price, image) {
        const item = { title, price, image };
        cart.push(item);
        updateCartDisplay();
    }

    function removeFromCart(index) {
        cart.splice(index, 1);
        updateCartDisplay();
    }

    function updateCartDisplay() {
        const cartItemsModalElement = $('#cart-items-modal');
        const cartTotalModalElement = $('#cart-total-modal');

        let total = 0;

        cartItemsModalElement.empty();

        for (let i = 0; i < cart.length; i++) {
            const item = cart[i];

            const listItemModal = $('<li>').addClass('list-group-item fade-in');
            const itemContent = `
                <div class="d-flex justify-content-between align-items-center">
                    <img src="${item.image}" alt="${item.title}" class="cart-item-image">
                    <span>${item.title}</span>
                    <span>₹${item.price.toFixed(2)}</span>
                    <button type="button" class="btn btn-danger btn-sm remove-from-cart" data-index="${i}">Remove</button>
                </div>
            `;
            listItemModal.html(itemContent);
            cartItemsModalElement.append(listItemModal);

            total += parseFloat(item.price);
        }

        $('#cart-items').text(cart.length);
        $('#cart-total').text(total.toFixed(2));
        cartTotalModalElement.text(total.toFixed(2));
    }

    function createProductCard(product, index) {
        const card = $('<div>').addClass('col-md-3 mb-4 card');
        const originalPrice = product.price;
        const discount = 0.2;
        const discountedPrice = originalPrice * (1 - discount);

        card.html(`
            <div class="card h-100">
                <img src="${product.image}" class="card-img-top" alt="${product.title}">
                <div class="card-body">
                    <h5 class="card-title">${product.title}</h5>
                    <p class="card-text">${product.description}</p>
                    <p class="original-price" style="display: none;">${originalPrice}</p>
                    <p class="price">
                        <span class="crossed-out-price" style="text-decoration: line-through;"></span>
                        ₹<span class="discounted-price">${discountedPrice.toFixed(2)}</span>
                        <span class="discount">(20% off)</span>
                    </p>
                    <div class="d-flex justify-content-between align-items-center">
                        <button class="btn btn-primary btn-block add-to-cart" data-index="${index}">Add to Cart</button>
                        <button class="btn btn-success btn-block buy-now"><a href="#" class="link-light">Buy Now</a></button>
                    </div>
                </div>
            </div>
        `);

        return card;
    }

    function initProductCards() {
        const productList = $('#product-list .row');

        dummyProducts.forEach((product, index) => {
            const card = createProductCard(product, index);
            productList.append(card);
        });
    }

    $(document).on('click', '.add-to-cart', function () {
        const index = $(this).data('index');
        const selectedProduct = dummyProducts[index];
        addToCart(selectedProduct.title, selectedProduct.price, selectedProduct.image);
    });

    $(document).on('click', '.remove-from-cart', function () {
        const index = $(this).data('index');
        removeFromCart(index);
    });

    initProductCards();
</script>
</body>
</html>